[
  {
    "objectID": "LICENSE.html",
    "href": "LICENSE.html",
    "title": "1 License",
    "section": "",
    "text": "Creative Commons Attribution 4.0 International (CC BY 4.0)\nThis work is licensed under the Creative Commons Attribution 4.0 International License.\n\n\n\n\nShare — copy and redistribute the material in any medium or format\n\nAdapt — remix, transform, and build upon the material for any purpose, even commercially\n\n\n\n\n\n\nAttribution — You must give appropriate credit to Epipulse NGO, provide a link to the license, and indicate if changes were made.\n\n\n\n\n\nhttps://creativecommons.org/licenses/by/4.0/"
  },
  {
    "objectID": "LICENSE.html#you-are-free-to",
    "href": "LICENSE.html#you-are-free-to",
    "title": "1 License",
    "section": "",
    "text": "Share — copy and redistribute the material in any medium or format\n\nAdapt — remix, transform, and build upon the material for any purpose, even commercially"
  },
  {
    "objectID": "LICENSE.html#under-the-following-terms",
    "href": "LICENSE.html#under-the-following-terms",
    "title": "1 License",
    "section": "",
    "text": "Attribution — You must give appropriate credit to Epipulse NGO, provide a link to the license, and indicate if changes were made."
  },
  {
    "objectID": "LICENSE.html#license-details",
    "href": "LICENSE.html#license-details",
    "title": "1 License",
    "section": "",
    "text": "https://creativecommons.org/licenses/by/4.0/"
  },
  {
    "objectID": "human_cleaning_validation.html",
    "href": "human_cleaning_validation.html",
    "title": "Human-assisted Data Cleaning Workflow",
    "section": "",
    "text": "df &lt;- read.csv(\"data.csv\", stringsAsFactors = FALSE)\n\n\n\n\n\ndim(df); names(df); str(df); summary(df)\n\n\n\n\n\ndf &lt;- clean_names(df)\n\n\n\n\n\nskim(df)\n\n\n\n\n\ndf |&gt; select(where(is.character)) |&gt; lapply(unique)\n\n\n\n\n\ncolMeans(is.na(df)) * 100\n\n\n\n\n\ntable(df$sex)\nrange(df$age, na.rm = TRUE)\n\n\n\n\n\n\n# Ensure age is numeric\ndf &lt;- df |&gt;\n  mutate(age = as.numeric(age))\n\n# Convert sex to factor and set reference category\n# Reference = Male (standard epidemiologic practice)\ndf &lt;- df |&gt;\n  mutate(\n    sex = factor(sex, levels = c(\"Male\", \"Female\")),\n    sex = relevel(sex, ref = \"Male\")\n  )\n\n# Convert smoking status to factor\n# Reference = No (unexposed group)\ndf &lt;- df |&gt;\n  mutate(\n    smoking = factor(smoking, levels = c(\"No\", \"Yes\")),\n    smoking = relevel(smoking, ref = \"No\")\n  )\n\n# Education level (reference = lowest education)\ndf &lt;- df |&gt;\n  mutate(\n    education = factor(\n      education,\n      levels = c(\"No formal education\", \"Primary\", \"Secondary\", \"Higher\")\n    ),\n    education = relevel(education, ref = \"No formal education\")\n  )\n\n# Add variable labels (for tables and reports)\nattr(df$age, \"label\") &lt;- \"Age in completed years\"\nattr(df$sex, \"label\") &lt;- \"Sex of the participant\"\nattr(df$smoking, \"label\") &lt;- \"Current smoking status\"\nattr(df$education, \"label\") &lt;- \"Highest educational attainment\""
  },
  {
    "objectID": "human_cleaning_validation.html#data-inspection",
    "href": "human_cleaning_validation.html#data-inspection",
    "title": "Human-assisted Data Cleaning Workflow",
    "section": "",
    "text": "df &lt;- read.csv(\"data.csv\", stringsAsFactors = FALSE)\n\n\n\n\n\ndim(df); names(df); str(df); summary(df)\n\n\n\n\n\ndf &lt;- clean_names(df)\n\n\n\n\n\nskim(df)\n\n\n\n\n\ndf |&gt; select(where(is.character)) |&gt; lapply(unique)\n\n\n\n\n\ncolMeans(is.na(df)) * 100\n\n\n\n\n\ntable(df$sex)\nrange(df$age, na.rm = TRUE)"
  },
  {
    "objectID": "human_cleaning_validation.html#data-typing-labels-reference-categories-sample",
    "href": "human_cleaning_validation.html#data-typing-labels-reference-categories-sample",
    "title": "Human-assisted Data Cleaning Workflow",
    "section": "",
    "text": "# Ensure age is numeric\ndf &lt;- df |&gt;\n  mutate(age = as.numeric(age))\n\n# Convert sex to factor and set reference category\n# Reference = Male (standard epidemiologic practice)\ndf &lt;- df |&gt;\n  mutate(\n    sex = factor(sex, levels = c(\"Male\", \"Female\")),\n    sex = relevel(sex, ref = \"Male\")\n  )\n\n# Convert smoking status to factor\n# Reference = No (unexposed group)\ndf &lt;- df |&gt;\n  mutate(\n    smoking = factor(smoking, levels = c(\"No\", \"Yes\")),\n    smoking = relevel(smoking, ref = \"No\")\n  )\n\n# Education level (reference = lowest education)\ndf &lt;- df |&gt;\n  mutate(\n    education = factor(\n      education,\n      levels = c(\"No formal education\", \"Primary\", \"Secondary\", \"Higher\")\n    ),\n    education = relevel(education, ref = \"No formal education\")\n  )\n\n# Add variable labels (for tables and reports)\nattr(df$age, \"label\") &lt;- \"Age in completed years\"\nattr(df$sex, \"label\") &lt;- \"Sex of the participant\"\nattr(df$smoking, \"label\") &lt;- \"Current smoking status\"\nattr(df$education, \"label\") &lt;- \"Highest educational attainment\""
  },
  {
    "objectID": "ai_cleaning_validation.html",
    "href": "ai_cleaning_validation.html",
    "title": "AI-assisted Data Cleaning Workflow",
    "section": "",
    "text": "“AI-assisted code generation was used for data cleaning, with all scripts reviewed and executed by the investigators.”\nAlways de-identify before sending to AI\n\n\n\n\nlibrary(dplyr)\nlibrary(janitor)\nlibrary(skimr)\nlibrary(jsonlite)\n\ndf &lt;- read.csv(\"data.csv\", stringsAsFactors = FALSE)\ndf &lt;- clean_names(df)\n\ndata_summary &lt;- list(\n  structure = str(df),\n  missing_pct = round(colMeans(is.na(df)) * 100, 2),\n  unique_character_values = df |&gt; \n    select(where(is.character)) |&gt; \n    summarise(across(everything(), ~ paste(unique(.), collapse = \", \"))),\n  numeric_ranges = df |&gt; \n    select(where(is.numeric)) |&gt; \n    summarise(across(everything(), ~ paste(range(., na.rm = TRUE), collapse = \"–\")))\n)\n\nsummary_text &lt;- toJSON(data_summary, pretty = TRUE)\n\n\n\n\n\n\n\nSys.setenv(OPENAI_API_KEY = \"your_api_key_here\")\n\nlibrary(ellmer)\n\nmodel &lt;- chat_openai(\n  model = \"gpt-4.1-mini\",\n  temperature = 0.1\n)\n\n\n\n\n\nSys.setenv(\n  AZURE_OPENAI_API_KEY = \"your_key\",\n  AZURE_OPENAI_ENDPOINT = \"https://your-endpoint.openai.azure.com/\"\n)\n\nlibrary(ellmer)\n\nmodel &lt;- chat_azure_openai(\n  deployment = \"gpt-4o-mini\",\n  temperature = 0.1\n)\n\n\n\n\nNo need API for local llm\n\nlibrary(ellmer)\nlibrary(ollama)\n\nmodel &lt;- chat_ollama(\n  model = \"llama3\"\n)\n\n\n\n\n\n\n\n\nai_generate_cleaning_code &lt;- function(summary_text, model) {\n\n  prompt &lt;- paste0(\n\"You are a public health data analyst.\n\nINSTRUCTIONS:\n- Generate ONLY executable R code\n- No explanations outside code\n- Do NOT load libraries\n- Do NOT delete rows\n- Do NOT impute values\n- Do NOT change outcome definitions\n- Include comments in the R code\n\nTASKS:\n- Trim whitespace in character variables\n- Standardize categorical labels\n- Convert variables to appropriate types\n- Flag impossible numeric values\n- Create missingness flags (not imputation)\n\nDATA SUMMARY:\n\", summary_text\n  )\n\n  response &lt;- chat(model, prompt)\n\n  response$content\n}\n\n\n\n\n\ncleaning_code &lt;- ai_generate_cleaning_code(summary_text, model)\n\ncat(cleaning_code)\n\n\n\n\n\neval(parse(text = cleaning_code))\n\n\n\n\n\n\nMENTION THIS IN METHODS (recommended)\n“AI-assisted code generation was used to standardize variable types, labels, and reference categories. All code was reviewed and executed by the investigators.”\n\n\n\nai_generate_typing_and_labels_code &lt;- function(summary_text, model) {\n\n  prompt &lt;- paste0(\n\"You are a senior public health biostatistician and R instructor.\n\nTASK:\nGenerate ONLY executable R code (no explanations outside code).\n\nAUDIENCE:\nPublic health beginners (MBBS / MPH / MD Community Medicine).\n\nREQUIREMENTS:\n1. Ensure correct data types:\n   - numeric → as.numeric\n   - categorical → factor\n2. Add VARIABLE LABELS (column descriptions)\n3. Add VALUE LABELS for categorical variables\n4. Explicitly set REFERENCE CATEGORIES using relevel()\n5. Comment clearly why each reference category is chosen\n6. Do NOT delete rows\n7. Do NOT impute missing values\n8. Do NOT load libraries\n9. Assume dataframe name is `df`\n\nREFERENCE CATEGORY RULES:\n- Sex → reference = \\\"Male\\\"\n- Binary exposure → reference = \\\"No\\\" / \\\"Unexposed\\\"\n- Education → lowest level\n- Socioeconomic status → lowest class\n- Outcome variables → DO NOT relevel\n\nOUTPUT:\nReturn ONLY R code with clear comments.\n\nDATA SUMMARY:\n\", summary_text\n  )\n\n  response &lt;- chat(model, prompt)\n\n  response$content\n}\n\n\n\n\n\n typing_label_code &lt;- ai_generate_typing_and_labels_code(summary_text, model)\n\ncat(typing_label_code)\n\nExecute code AFTER review\n\neval(parse(text = typing_label_code))"
  },
  {
    "objectID": "ai_cleaning_validation.html#ai-data-cleaning",
    "href": "ai_cleaning_validation.html#ai-data-cleaning",
    "title": "AI-assisted Data Cleaning Workflow",
    "section": "",
    "text": "“AI-assisted code generation was used for data cleaning, with all scripts reviewed and executed by the investigators.”\nAlways de-identify before sending to AI\n\n\n\n\nlibrary(dplyr)\nlibrary(janitor)\nlibrary(skimr)\nlibrary(jsonlite)\n\ndf &lt;- read.csv(\"data.csv\", stringsAsFactors = FALSE)\ndf &lt;- clean_names(df)\n\ndata_summary &lt;- list(\n  structure = str(df),\n  missing_pct = round(colMeans(is.na(df)) * 100, 2),\n  unique_character_values = df |&gt; \n    select(where(is.character)) |&gt; \n    summarise(across(everything(), ~ paste(unique(.), collapse = \", \"))),\n  numeric_ranges = df |&gt; \n    select(where(is.numeric)) |&gt; \n    summarise(across(everything(), ~ paste(range(., na.rm = TRUE), collapse = \"–\")))\n)\n\nsummary_text &lt;- toJSON(data_summary, pretty = TRUE)\n\n\n\n\n\n\n\nSys.setenv(OPENAI_API_KEY = \"your_api_key_here\")\n\nlibrary(ellmer)\n\nmodel &lt;- chat_openai(\n  model = \"gpt-4.1-mini\",\n  temperature = 0.1\n)\n\n\n\n\n\nSys.setenv(\n  AZURE_OPENAI_API_KEY = \"your_key\",\n  AZURE_OPENAI_ENDPOINT = \"https://your-endpoint.openai.azure.com/\"\n)\n\nlibrary(ellmer)\n\nmodel &lt;- chat_azure_openai(\n  deployment = \"gpt-4o-mini\",\n  temperature = 0.1\n)\n\n\n\n\nNo need API for local llm\n\nlibrary(ellmer)\nlibrary(ollama)\n\nmodel &lt;- chat_ollama(\n  model = \"llama3\"\n)\n\n\n\n\n\n\n\n\nai_generate_cleaning_code &lt;- function(summary_text, model) {\n\n  prompt &lt;- paste0(\n\"You are a public health data analyst.\n\nINSTRUCTIONS:\n- Generate ONLY executable R code\n- No explanations outside code\n- Do NOT load libraries\n- Do NOT delete rows\n- Do NOT impute values\n- Do NOT change outcome definitions\n- Include comments in the R code\n\nTASKS:\n- Trim whitespace in character variables\n- Standardize categorical labels\n- Convert variables to appropriate types\n- Flag impossible numeric values\n- Create missingness flags (not imputation)\n\nDATA SUMMARY:\n\", summary_text\n  )\n\n  response &lt;- chat(model, prompt)\n\n  response$content\n}\n\n\n\n\n\ncleaning_code &lt;- ai_generate_cleaning_code(summary_text, model)\n\ncat(cleaning_code)\n\n\n\n\n\neval(parse(text = cleaning_code))"
  },
  {
    "objectID": "ai_cleaning_validation.html#ai-data-typing-labels-reference-categories",
    "href": "ai_cleaning_validation.html#ai-data-typing-labels-reference-categories",
    "title": "AI-assisted Data Cleaning Workflow",
    "section": "",
    "text": "MENTION THIS IN METHODS (recommended)\n“AI-assisted code generation was used to standardize variable types, labels, and reference categories. All code was reviewed and executed by the investigators.”\n\n\n\nai_generate_typing_and_labels_code &lt;- function(summary_text, model) {\n\n  prompt &lt;- paste0(\n\"You are a senior public health biostatistician and R instructor.\n\nTASK:\nGenerate ONLY executable R code (no explanations outside code).\n\nAUDIENCE:\nPublic health beginners (MBBS / MPH / MD Community Medicine).\n\nREQUIREMENTS:\n1. Ensure correct data types:\n   - numeric → as.numeric\n   - categorical → factor\n2. Add VARIABLE LABELS (column descriptions)\n3. Add VALUE LABELS for categorical variables\n4. Explicitly set REFERENCE CATEGORIES using relevel()\n5. Comment clearly why each reference category is chosen\n6. Do NOT delete rows\n7. Do NOT impute missing values\n8. Do NOT load libraries\n9. Assume dataframe name is `df`\n\nREFERENCE CATEGORY RULES:\n- Sex → reference = \\\"Male\\\"\n- Binary exposure → reference = \\\"No\\\" / \\\"Unexposed\\\"\n- Education → lowest level\n- Socioeconomic status → lowest class\n- Outcome variables → DO NOT relevel\n\nOUTPUT:\nReturn ONLY R code with clear comments.\n\nDATA SUMMARY:\n\", summary_text\n  )\n\n  response &lt;- chat(model, prompt)\n\n  response$content\n}\n\n\n\n\n\n typing_label_code &lt;- ai_generate_typing_and_labels_code(summary_text, model)\n\ncat(typing_label_code)\n\nExecute code AFTER review\n\neval(parse(text = typing_label_code))"
  },
  {
    "objectID": "export.html",
    "href": "export.html",
    "title": "Download fianal data",
    "section": "",
    "text": "1 Download fianal data\n“The final cleaned and labelled dataset was exported in R (.rds)/SPSS (.sav)/ Stata (.dta) format to ensure operability across analytical platforms.”\n\n1.0.0.1 Load library\n\n# install.packages(c(\"haven\", \"labelled\", \"rio\"))\nlibrary(haven)\nlibrary(labelled)\nlibrary(rio)\n\n\n\n1.0.0.2 R FORMAT (BEST FOR REPRODUCIBILITY)\n\nsave(df, file = \"final_dataset.RData\")\n# to load use - \n# load(\"final_dataset.RData\")\n\n\n\n1.0.0.3 SPSS FORMAT (.sav)\n\nwrite_sav(df, \"final_dataset.sav\")\n\n\n\n1.0.0.4 STATA FORMAT (.dta)\n\nwrite_dta(df, \"final_dataset.dta\")\n\n\n\n1.0.0.5 CSV FORMAT (.csv)\nwarning - variable labels and ref cat will be lost\n\nwrite.csv(df, \"final_dataset.csv\", row.names = FALSE)\n# best practise to download datadictionary so that the labels wont be missed \n\ndata_dictionary &lt;- tibble(\n  variable = names(df),\n  label = sapply(df, function(x) attr(x, \"label\")),\n  class = sapply(df, class)\n)\n\nwrite.csv(data_dictionary, \"data_dictionary.csv\", row.names = FALSE)\n\n\n\n1.0.0.6 Export all formats\n\nexport_all_formats &lt;- function(df, name = \"final_dataset\") {\n  saveRDS(df, paste0(name, \".rds\"))\n  write_sav(df, paste0(name, \".sav\"))\n  write_dta(df, paste0(name, \".dta\"))\n  write.csv(df, paste0(name, \".csv\"), row.names = FALSE)\n}\nexport_all_formats(df)"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Epipulse Public Health Data Analysis",
    "section": "",
    "text": "This site documents a reproducible, AI-assisted workflow for public health data analysis.\n\n\n\nData cleaning and validation\nAI-assisted code generation\nVariable labelling and reference categories\nExporting data for R, SPSS, and Stata\n\n\n⚠️ This is a template document.\nNo code is executed."
  },
  {
    "objectID": "index.html#welcome",
    "href": "index.html#welcome",
    "title": "Epipulse Public Health Data Analysis",
    "section": "",
    "text": "This site documents a reproducible, AI-assisted workflow for public health data analysis.\n\n\n\nData cleaning and validation\nAI-assisted code generation\nVariable labelling and reference categories\nExporting data for R, SPSS, and Stata\n\n\n⚠️ This is a template document.\nNo code is executed."
  },
  {
    "objectID": "index.html#licence",
    "href": "index.html#licence",
    "title": "Epipulse Public Health Data Analysis",
    "section": "2 Licence",
    "text": "2 Licence\n© Epipulse NGO\nThis work is licensed under a\nCreative Commons Attribution 4.0 International (CC BY 4.0) licence.\nYou are free to share and adapt this material with appropriate attribution.\n\n\n\nCC BY 4.0"
  }
]